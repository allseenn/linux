# Урок 3
## Права доступа и безопасность

### Задания

Создать два произвольных файла.
```
touch file1 file2
```
Первому присвоить права на чтение и запись для владельца и группы, только на чтение — для всех.
```
chmod 664 file1
```
Второму присвоить права на чтение и запись только для владельца. Сделать это в численном и символьном виде.
```
chmod u+rw,g-rwx,o-rwx file2
```
Назначить новых владельца и группу для директории целиком
```
mkdir tmp
mv file* tmp
sudo chown -R postgres:postgres tmp/
```

Управление пользователями:
- создать пользователя, используя утилиту useradd и adduser;
```
sudo useradd -m -s /bin/bash user1
sudo adduser user2
```
- удалить пользователя, используя утилиту userdel.
```
sudo userdel -rf user2
```

Управление группами:

- создать группу с использованием утилит groupadd и addgroup;
```
sudo groupadd group1
sudo addgroup group2
```
- попрактиковаться в смене групп у пользователей;
```
sudo usermod -g group1 user1
```
- добавить пользователя в группу, не меняя основной;
```
sudo usermod -G group1 user1
```

Создать пользователя с правами суперпользователя. Сделать так, чтобы sudo не требовал пароль для выполнения команд.
```
sudo usermod -G sudo user1
echo "user1 ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
```

Дополнительные (необязательные) задания

- Используя дополнительные материалы, выдать одному из созданных пользователей право на выполнение ряда команд, требующих прав суперпользователя (команды выбираем на своё усмотрение).
```
echo "user1 ALL=/usr/bin/blkid" >> /etc/sudoers
```

Создать группу developer и нескольких пользователей, входящих в неё.
```
sudo groupadd developer
sudo usermod -g developer user1
sudo useradd -m -s /bin/bash -g developer user2
```

Создать директорию для совместной работы.
```
mkdir dev
```

Сделать так, чтобы созданные одними пользователями файлы могли изменять другие пользователи этой группы.
```
setfacl -dm g:developer:rwx dev
```


- Создать в директории для совместной работы поддиректорию для обмена файлами, но чтобы удалять файлы могли только их создатели.
```
mkdir save
chown -R :developer save
chmod -R 1777 save
```

- Создать директорию, в которой есть несколько файлов.
```
mkdir hide
for i in {1..5}; do echo "hello" > hide/file$i; done
```
Сделать так, чтобы открыть файлы можно было, только зная имя файла, а через ls список файлов посмотреть было нельзя.
```
chmod 111 hide
cat hide/file1
```
